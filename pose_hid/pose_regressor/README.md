# pose regressor

> get gesture of hands

## get gesture

### mediapipe output

``` shell
top_gesture:  [[Category(index=-1, score=0.6962020993232727, display_name='', category_name='Open_Palm')], 
               [Category(index=-1, score=0.7948184013366699, display_name='', category_name='Open_Palm')]]
handness:  [[Category(index=1, score=0.9288433790206909, display_name='Right', category_name='Right')], 
            [Category(index=0, score=0.9481089115142822, display_name='Left', category_name='Left')]]
hand_landmarks [[NormalizedLandmark(x=0.7983127236366272, y=0.8592564463615417, z=3.735851805686252e-07, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.7063477039337158, y=0.8106436729431152, z=-0.053631994873285294, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.6315605044364929, y=0.7125087380409241, z=-0.08613883703947067, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.576614499092102, y=0.622820258140564, z=-0.11381294578313828, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.5228546857833862, y=0.5612127780914307, z=-0.1423361599445343, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.6988224983215332, y=0.5374166965484619, z=-0.06307648867368698, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.6618598699569702, y=0.41212886571884155, z=-0.09968209266662598, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.6450362801551819, y=0.32531851530075073, z=-0.1289813220500946, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.6342939734458923, y=0.2474776804447174, z=-0.15179438889026642, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.7658398747444153, y=0.5119722485542297, z=-0.06399892270565033, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.7663316130638123, y=0.3587753176689148, z=-0.09830926358699799, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.771141529083252, y=0.2607364356517792, z=-0.1248849555850029, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.7784479260444641, y=0.17534193396568298, z=-0.14515633881092072, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.8271933794021606, y=0.5295525193214417, z=-0.07065733522176743, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.8561619520187378, y=0.39535534381866455, z=-0.10770875215530396, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.8800244331359863, y=0.3051367700099945, z=-0.1377287656068802, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.8982376456260681, y=0.22251826524734497, z=-0.15822860598564148, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.8805734515190125, y=0.5774149298667908, z=-0.08122369647026062, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.9328066110610962, y=0.4842841625213623, z=-0.11171607673168182, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.966982364654541, y=0.4228142201900482, z=-0.12950585782527924, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.9916521906852722, y=0.3595851957798004, z=-0.14259368181228638, visibility=0.0, presence=0.0)], 
                [NormalizedLandmark(x=0.015271171927452087, y=0.8340616226196289, z=8.026320870158088e-07, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.11968950927257538, y=0.821951150894165, z=-0.05384239926934242, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.2043214589357376, y=0.7301610708236694, z=-0.06704332679510117, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.26581814885139465, y=0.6360896825790405, z=-0.0733448714017868, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.31527286767959595, y=0.5617136359214783, z=-0.07932562381029129, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.1590138077735901, y=0.5411259531974792, z=-0.039608974009752274, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.21880817413330078, y=0.41824984550476074, z=-0.059593018144369125, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.2537243962287903, y=0.33938759565353394, z=-0.07738904654979706, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.280991792678833, y=0.26847246289253235, z=-0.09350065141916275, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.1019575372338295, y=0.5009169578552246, z=-0.032331496477127075, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.13806313276290894, y=0.35193830728530884, z=-0.05292456969618797, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.1652100831270218, y=0.25299471616744995, z=-0.08063182979822159, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.18337827920913696, y=0.16672587394714355, z=-0.10245157778263092, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.03930105268955231, y=0.502631664276123, z=-0.03065064176917076, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.04548117518424988, y=0.3516773581504822, z=-0.061589695513248444, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.0536995604634285, y=0.2506345510482788, z=-0.099046990275383, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=0.05926071107387543, y=0.16213157773017883, z=-0.12564219534397125, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=-0.01861429214477539, y=0.5399627089500427, z=-0.03234335407614708, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=-0.04102626442909241, y=0.4422123432159424, z=-0.06864987313747406, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=-0.05578649044036865, y=0.3820079565048218, z=-0.09665652364492416, visibility=0.0, presence=0.0),
                 NormalizedLandmark(x=-0.06722646951675415, y=0.3267180323600769, z=-0.11539426445960999, visibility=0.0, presence=0.0)]]
```

> Order of landmark as follows

``` python
class HandLandmark(enum.IntEnum):
  """The 21 hand landmarks."""

  WRIST = 0
  THUMB_CMC = 1
  THUMB_MCP = 2
  THUMB_IP = 3
  THUMB_TIP = 4
  INDEX_FINGER_MCP = 5
  INDEX_FINGER_PIP = 6
  INDEX_FINGER_DIP = 7
  INDEX_FINGER_TIP = 8
  MIDDLE_FINGER_MCP = 9
  MIDDLE_FINGER_PIP = 10
  MIDDLE_FINGER_DIP = 11
  MIDDLE_FINGER_TIP = 12
  RING_FINGER_MCP = 13
  RING_FINGER_PIP = 14
  RING_FINGER_DIP = 15
  RING_FINGER_TIP = 16
  PINKY_MCP = 17
  PINKY_PIP = 18
  PINKY_DIP = 19
  PINKY_TIP = 20
```

### function output

> output dict format definition

``` json
{
    "Imagesize": {
        "Height": null,
        "Width": null
    },
    "Handness": {
        "Left": {
            "exist": false,
            "gesture": null,
            "confidence": null
        },
        "Right": {
            "exist": false,
            "gesture": null,
            "confidence":null
        },
    },
    "landmark": {
        "Left": [],
        "Right": []
    },
    "Distance": {
        "Left/Dis_Thumb_Index_Tip": null,
        "Left/Dis_Thumb_Middle_Tip": null,
        "Right/Dis_Thumb_Index_Tip": null,
        "Right/Dis_Thumb_Middle_Tip": null,
        "Dis_Index_Index_Tip": null
    },
    "Angle": {
        "Left/Angle_Thumb_Index_Tip": null,
        "Right/Angle_Thumb_Index_Tip": null
    },
    "Process_time": 0.0
}
```

### output test data

``` json
{
    "Imagesize": {
        "Height": 300,
        "Width": 533
    },
    "Handedness": {
        "Left": {
            "exist": true,
            "gesture": "None",
            "confidence": 0.8438073396682739
        },
        "Right": {
            "exist": true,
            "gesture": "None",
            "confidence": 0.7562047243118286
        }
    },
    "Landmark": {
        "Left": [
            [
                0.16490957140922546,
                0.7517371773719788,
                -9.717935967046287e-08,
                0.0,
                0.0
            ],
            [
                0.2076282501220703,
                0.7201682329177856,
                -0.02025659568607807,
                0.0,
                0.0
            ],
            [
                0.25111234188079834,
                0.6336515545845032,
                -0.028024546802043915,
                0.0,
                0.0
            ],
            [
                0.28578537702560425,
                0.5695679187774658,
                -0.034763261675834656,
                0.0,
                0.0
            ],
            [
                0.3157873749732971,
                0.5344650745391846,
                -0.04096904397010803,
                0.0,
                0.0
            ],
            [
                0.22653549909591675,
                0.5362612009048462,
                -0.020866960287094116,
                0.0,
                0.0
            ],
            [
                0.22690081596374512,
                0.42761796712875366,
                -0.04010520502924919,
                0.0,
                0.0
            ],
            [
                0.22103482484817505,
                0.360842227935791,
                -0.05145420506596565,
                0.0,
                0.0
            ],
            [
                0.21520495414733887,
                0.3047069311141968,
                -0.05961369723081589,
                0.0,
                0.0
            ],
            [
                0.19191205501556396,
                0.5415900945663452,
                -0.021923605352640152,
                0.0,
                0.0
            ],
            [
                0.18842393159866333,
                0.49060994386672974,
                -0.05468177795410156,
                0.0,
                0.0
            ],
            [
                0.18565122783184052,
                0.5697274804115295,
                -0.06248239800333977,
                0.0,
                0.0
            ],
            [
                0.18855051696300507,
                0.6249750852584839,
                -0.06108836829662323,
                0.0,
                0.0
            ],
            [
                0.15902316570281982,
                0.5590192675590515,
                -0.025322098284959793,
                0.0,
                0.0
            ],
            [
                0.15546447038650513,
                0.5256698131561279,
                -0.060089804232120514,
                0.0,
                0.0
            ],
            [
                0.1599016636610031,
                0.606594443321228,
                -0.05533859506249428,
                0.0,
                0.0
            ],
            [
                0.1663914918899536,
                0.6571467518806458,
                -0.043595243245363235,
                0.0,
                0.0
            ],
            [
                0.12699750065803528,
                0.5800744891166687,
                -0.030083393678069115,
                0.0,
                0.0
            ],
            [
                0.12612374126911163,
                0.5408165454864502,
                -0.05556619539856911,
                0.0,
                0.0
            ],
            [
                0.13243873417377472,
                0.6011375188827515,
                -0.05164586007595062,
                0.0,
                0.0
            ],
            [
                0.140344500541687,
                0.6441230177879333,
                -0.04298052936792374,
                0.0,
                0.0
            ]
        ],
        "Right": [
            [
                0.7989641427993774,
                0.7304753065109253,
                -2.719089593483659e-07,
                0.0,
                0.0
            ],
            [
                0.7515701055526733,
                0.6877655982971191,
                -0.014996159821748734,
                0.0,
                0.0
            ],
            [
                0.7130066156387329,
                0.6019297242164612,
                -0.023760637268424034,
                0.0,
                0.0
            ],
            [
                0.6855051517486572,
                0.5349218845367432,
                -0.033907365053892136,
                0.0,
                0.0
            ],
            [
                0.659527599811554,
                0.4967847466468811,
                -0.044188231229782104,
                0.0,
                0.0
            ],
            [
                0.7451693415641785,
                0.51258784532547,
                -0.015012072399258614,
                0.0,
                0.0
            ],
            [
                0.7415896654129028,
                0.3990401029586792,
                -0.03429645672440529,
                0.0,
                0.0
            ],
            [
                0.7418032884597778,
                0.33854207396507263,
                -0.04551015794277191,
                0.0,
                0.0
            ],
            [
                0.7467130422592163,
                0.28748464584350586,
                -0.05401904508471489,
                0.0,
                0.0
            ],
            [
                0.7768177390098572,
                0.5199182033538818,
                -0.01850699447095394,
                0.0,
                0.0
            ],
            [
                0.7677916884422302,
                0.4681582748889923,
                -0.05093826726078987,
                0.0,
                0.0
            ],
            [
                0.765549898147583,
                0.5488183498382568,
                -0.05761828273534775,
                0.0,
                0.0
            ],
            [
                0.7685512900352478,
                0.6085385680198669,
                -0.05506916716694832,
                0.0,
                0.0
            ],
            [
                0.8101051449775696,
                0.5366164445877075,
                -0.02440829947590828,
                0.0,
                0.0
            ],
            [
                0.8011230826377869,
                0.5001683831214905,
                -0.053981732577085495,
                0.0,
                0.0
            ],
            [
                0.7935059666633606,
                0.5800297260284424,
                -0.04672829061746597,
                0.0,
                0.0
            ],
            [
                0.7925322651863098,
                0.632247805595398,
                -0.03470250591635704,
                0.0,
                0.0
            ],
            [
                0.8422952890396118,
                0.5620073080062866,
                -0.03205563500523567,
                0.0,
                0.0
            ],
            [
                0.8324601650238037,
                0.522497296333313,
                -0.05262600630521774,
                0.0,
                0.0
            ],
            [
                0.8180691003799438,
                0.5816053748130798,
                -0.047252099961042404,
                0.0,
                0.0
            ],
            [
                0.8140972256660461,
                0.6254600286483765,
                -0.038774024695158005,
                0.0,
                0.0
            ]
        ]
    },
    "Distance": {
        "Left/Dis_Thumb_Index_Tip": 87.6184911990614,
        "Left/Dis_Thumb_Middle_Tip": 73.16419889536138,
        "Right/Dis_Thumb_Index_Tip": 78.00640999302557,
        "Right/Dis_Thumb_Middle_Tip": 66.73080248281148,
        "Dis_Index_Index_Tip": 283.0441661649291
    },
    "Angle": {
        "Left/Angle_Thumb_Index_Tip": -2.234842489621581,
        "Right/Angle_Thumb_Index_Tip": -0.9401150284745128
    },
    "Process_time": 0.314284086227417
}
```
